{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Hover\", {\n  enumerable: true,\n  get: function get() {\n    return _Hover.default;\n  }\n});\nObject.defineProperty(exports, \"Trigger\", {\n  enumerable: true,\n  get: function get() {\n    return _Trigger.default;\n  }\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Hover = _interopRequireDefault(require(\"./lib/Hover\"));\n\nvar _Trigger = _interopRequireDefault(require(\"./lib/Trigger\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ReactHover = /*#__PURE__*/function (_Component) {\n  _inherits(ReactHover, _Component);\n\n  function ReactHover(props) {\n    var _this;\n\n    _classCallCheck(this, ReactHover);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactHover).call(this, props));\n    _this.state = {\n      children: _propTypes.default.object,\n      hoverComponentStyle: {\n        display: 'none',\n        position: 'absolute'\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ReactHover, [{\n    key: \"renderItem\",\n    value: function renderItem(item, index) {\n      if (item.type.name === 'Trigger' || item.props.type === 'trigger') {\n        return _react.default.createElement(_Trigger.default, {\n          key: index\n        }, item);\n      } else if (item.type.name === 'Hover' || item.props.type === 'hover') {\n        return _react.default.createElement(_Hover.default, {\n          key: index\n        }, item);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var hoverComponentStyle = this.state.hoverComponentStyle;\n      var childrenWithProps = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var child = _step.value;\n\n          if (child.props) {\n            if (child.type.name === 'Trigger' || child.props.type === 'trigger') {\n              childrenWithProps.push(_react.default.cloneElement(child, {\n                setVisibility: this.setVisibility.bind(this),\n                getCursorPos: this.getCursorPos.bind(this)\n              }));\n            } else if (child.type.name === 'Hover' || child.props.type === 'hover') {\n              childrenWithProps.push(_react.default.cloneElement(child, {\n                styles: hoverComponentStyle,\n                setVisibility: this.setVisibility.bind(this),\n                getCursorPos: this.getCursorPos.bind(this)\n              }));\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return _react.default.createElement(\"div\", null, childrenWithProps.map(function (item, index) {\n        return _this2.renderItem(item, index);\n      }));\n    }\n  }, {\n    key: \"setVisibility\",\n    value: function setVisibility(flag) {\n      var hoverComponentStyle = this.state.hoverComponentStyle;\n      var updatedStyles = null;\n\n      if (flag) {\n        updatedStyles = _objectSpread({}, hoverComponentStyle, {\n          display: 'block'\n        });\n      } else {\n        updatedStyles = _objectSpread({}, hoverComponentStyle, {\n          display: 'none'\n        });\n      }\n\n      this.setState({\n        hoverComponentStyle: updatedStyles\n      });\n    }\n  }, {\n    key: \"getCursorPos\",\n    value: function getCursorPos(e) {\n      var cursorX = e.pageX;\n      var cursorY = e.pageY;\n      var _this$props$options = this.props.options,\n          followCursor = _this$props$options.followCursor,\n          shiftX = _this$props$options.shiftX,\n          shiftY = _this$props$options.shiftY;\n      var hoverComponentStyle = this.state.hoverComponentStyle;\n      var updatedStyles = null;\n\n      if (!followCursor) {\n        return;\n      }\n\n      if (isNaN(shiftX)) {\n        shiftX = 0;\n      }\n\n      if (isNaN(shiftY)) {\n        shiftY = 0;\n      }\n\n      updatedStyles = _objectSpread({}, hoverComponentStyle, {\n        top: cursorY + shiftY,\n        left: cursorX + shiftX\n      });\n      this.setState({\n        hoverComponentStyle: updatedStyles\n      });\n    }\n  }]);\n\n  return ReactHover;\n}(_react.Component);\n\n_defineProperty(ReactHover, \"propTypes\", {\n  children: _propTypes.default.array.isRequired,\n  options: _propTypes.default.object.isRequired,\n  className: _propTypes.default.string\n});\n\nvar _default = ReactHover;\nexports.default = _default;","map":{"version":3,"sources":["../src/ReactHover.js"],"names":["ReactHover","Component","children","PropTypes","options","className","string","hoverComponentStyle","display","position","item","index","childrenWithProps","child","setVisibility","getCursorPos","styles","flag","updatedStyles","e","cursorX","cursorY","followCursor","shiftX","shiftY","isNaN","top","left"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Hover from './lib/Hover'\nimport Trigger from './lib/Trigger'\nimport PropTypes from 'prop-types'\n\nclass ReactHover extends Component {\n  static propTypes = {\n    children: PropTypes.array.isRequired,\n    options: PropTypes.object.isRequired,\n    className: PropTypes.string,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      children: PropTypes.object,\n      hoverComponentStyle: {\n        display: 'none',\n        position: 'absolute',\n      },\n    }\n  }\n\n  renderItem(item, index) {\n    if (item.type.name === 'Trigger' || item.props.type === 'trigger') {\n      return <Trigger key={index}>{item}</Trigger>\n    } else if (item.type.name === 'Hover' || item.props.type === 'hover') {\n      return <Hover key={index}>{item}</Hover>\n    }\n  }\n\n  render() {\n    const { hoverComponentStyle } = this.state\n    let childrenWithProps = []\n    for (let child of this.props.children) {\n      if (child.props) {\n        if (child.type.name === 'Trigger' || child.props.type === 'trigger') {\n          childrenWithProps.push(\n            React.cloneElement(child, {\n              setVisibility: this.setVisibility.bind(this),\n              getCursorPos: this.getCursorPos.bind(this),\n            }),\n          )\n        } else if (\n          child.type.name === 'Hover' ||\n          child.props.type === 'hover'\n        ) {\n          childrenWithProps.push(\n            React.cloneElement(child, {\n              styles: hoverComponentStyle,\n              setVisibility: this.setVisibility.bind(this),\n              getCursorPos: this.getCursorPos.bind(this),\n            }),\n          )\n        }\n      }\n    }\n\n    return (\n      <div>\n        {childrenWithProps.map((item, index) => this.renderItem(item, index))}\n      </div>\n    )\n  }\n\n  setVisibility(flag) {\n    let { hoverComponentStyle } = this.state\n    let updatedStyles = null\n    if (flag) {\n      updatedStyles = { ...hoverComponentStyle, display: 'block' }\n    } else {\n      updatedStyles = { ...hoverComponentStyle, display: 'none' }\n    }\n    this.setState({\n      hoverComponentStyle: updatedStyles,\n    })\n  }\n\n  getCursorPos(e) {\n    const cursorX = e.pageX\n    const cursorY = e.pageY\n    let {\n      options: { followCursor, shiftX, shiftY },\n    } = this.props\n    let { hoverComponentStyle } = this.state\n    let updatedStyles = null\n    if (!followCursor) {\n      return\n    }\n    if (isNaN(shiftX)) {\n      shiftX = 0\n    }\n    if (isNaN(shiftY)) {\n      shiftY = 0\n    }\n    updatedStyles = {\n      ...hoverComponentStyle,\n      top: cursorY + shiftY,\n      left: cursorX + shiftX,\n    }\n    this.setState({\n      hoverComponentStyle: updatedStyles,\n    })\n  }\n}\n\nexport { Trigger, Hover }\nexport default ReactHover\n"]},"metadata":{},"sourceType":"script"}