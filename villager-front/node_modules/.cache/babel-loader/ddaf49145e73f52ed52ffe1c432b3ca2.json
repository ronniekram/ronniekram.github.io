{"ast":null,"code":"export function fetchVillagers() {\n  return dispatch => {\n    dispatch({\n      type: 'FETCH_VILLAGERS'\n    });\n    fetch('http://localhost:3000/villagers').then(resp => resp.json()).then(data => dispatch({\n      type: 'VILLAGERS_FETCHED',\n      villagers: data\n    }));\n  };\n}\nexport const deleteVillager = (villagerId, islandId) => {\n  return dispatch => {\n    return fetch(`http://localhost:3000/islands/${islandId}/villagers/${villagerId}`, {\n      method: 'DELETE'\n    }).then(resp => resp.json()).then(island => dispatch({\n      type: 'DELETE_VILLAGER',\n      payload: island\n    }));\n    this.history.push('/islands');\n  };\n};\nexport const addVillager = (villager, islandId) => {\n  return dispatch => {\n    fetch(`http://localhost:3000/islands/${islandId}/villagers`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(villager)\n    }).then(resp => resp.json()).then(island => {\n      dispatch({\n        type: 'ADD_VILLAGER',\n        payload: island\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/HotRonnie/Desktop/ac-villagers-react/villager-front/src/actions/villagerActions.js"],"names":["fetchVillagers","dispatch","type","fetch","then","resp","json","data","villagers","deleteVillager","villagerId","islandId","method","island","payload","history","push","addVillager","villager","headers","body","JSON","stringify"],"mappings":"AAAA,OAAO,SAASA,cAAT,GAA0B;AAC/B,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACAC,IAAAA,KAAK,CAAC,iCAAD,CAAL,CACCC,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMG,IAAI,IAAIN,QAAQ,CAAC;AACrBC,MAAAA,IAAI,EAAE,mBADe;AAErBM,MAAAA,SAAS,EAAED;AAFU,KAAD,CAFtB;AAOD,GATD;AAUD;AAED,OAAO,MAAME,cAAc,GAAG,CAACC,UAAD,EAAaC,QAAb,KAA0B;AACtD,SAAQV,QAAD,IAAc;AACnB,WAAOE,KAAK,CAAE,iCAAgCQ,QAAS,cAAaD,UAAW,EAAnE,EAAsE;AAChFE,MAAAA,MAAM,EAAE;AADwE,KAAtE,CAAL,CAGNR,IAHM,CAGDC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAHP,EAINF,IAJM,CAIDS,MAAM,IAAIZ,QAAQ,CAAC;AACvBC,MAAAA,IAAI,EAAE,iBADiB;AAEvBY,MAAAA,OAAO,EAAED;AAFc,KAAD,CAJjB,CAAP;AAQA,SAAKE,OAAL,CAAaC,IAAb,CAAkB,UAAlB;AACD,GAVD;AAWD,CAZM;AAcP,OAAO,MAAMC,WAAW,GAAG,CAACC,QAAD,EAAWP,QAAX,KAAwB;AAEjD,SAAQV,QAAD,IAAc;AACnBE,IAAAA,KAAK,CAAE,iCAAgCQ,QAAS,YAA3C,EAAwD;AAC3DC,MAAAA,MAAM,EAAE,MADmD;AAE3DO,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFkD;AAK3DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,QAAf;AALqD,KAAxD,CAAL,CAOCd,IAPD,CAOMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAPd,EAQCF,IARD,CAQMS,MAAM,IAAI;AACdZ,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAE,cADC;AAEPY,QAAAA,OAAO,EAAED;AAFF,OAAD,CAAR;AAID,KAbD;AAcD,GAfD;AAgBD,CAlBM","sourcesContent":["export function fetchVillagers() {\n  return (dispatch) => {\n    dispatch({type: 'FETCH_VILLAGERS'})\n    fetch('http://localhost:3000/villagers')\n    .then(resp => resp.json())\n    .then(data => dispatch({\n      type: 'VILLAGERS_FETCHED',\n      villagers: data\n    })\n    )\n  }\n}\n\nexport const deleteVillager = (villagerId, islandId) => {\n  return (dispatch) => {\n    return fetch(`http://localhost:3000/islands/${islandId}/villagers/${villagerId}`, {\n      method: 'DELETE'\n    })\n    .then(resp => resp.json())\n    .then(island => dispatch({\n      type: 'DELETE_VILLAGER',\n      payload: island\n    }))\n    this.history.push('/islands')\n  }\n}\n\nexport const addVillager = (villager, islandId) => {\n\n  return (dispatch) => {\n    fetch(`http://localhost:3000/islands/${islandId}/villagers`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(villager)\n    })\n    .then(resp => resp.json())\n    .then(island => {\n      dispatch({\n        type: 'ADD_VILLAGER',\n        payload: island\n      })\n    })\n  }\n}"]},"metadata":{},"sourceType":"module"}