{"ast":null,"code":"var _jsxFileName = \"/Users/HotRonnie/Desktop/ac-villagers-react/villager-front/src/actions/villagerActions.js\";\nexport function fetchVillagers() {\n  return dispatch => {\n    dispatch({\n      type: 'FETCH_VILLAGERS'\n    });\n    fetch('http://localhost:3000/villagers').then(resp => resp.json()).then(data => dispatch({\n      type: 'VILLAGERS_FETCHED',\n      villagers: data\n    }));\n  };\n}\nexport const addVillager = (villagerId, islandId) => {\n  return dispatch => {\n    fetch(`http://localhost:3000/villagers/${villagerId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        island_id: islandId\n      })\n    }).then(resp => resp.json()).then(villager => dispatch({\n      type: 'ADD_VILLAGER',\n      payload: villager\n    }));\n  };\n};\nexport const removeVillager = villagerId => {\n  return dispatch => {\n    fetch(`http://localhost:3000/villagers/${villagerId}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        island_id: ''\n      })\n    }).then(villager => dispatch({\n      type: 'REMOVE_VILLAGER',\n      payload: villager\n    }));\n  };\n};\nexport const buttonType = (villager, island) => {\n  if (villager.island_id === island.id) {\n    return /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"light\",\n      onClick: () => handleRemove(villager.id, villager.island_id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \" x \");\n  } else if (villager.island_id !== island.id && island.villagers.count > 10) {\n    return /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"light\",\n      onClick: () => handleAdd(villager.id, island.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }\n    }, \" Add Villager \");\n  }\n};","map":{"version":3,"sources":["/Users/HotRonnie/Desktop/ac-villagers-react/villager-front/src/actions/villagerActions.js"],"names":["fetchVillagers","dispatch","type","fetch","then","resp","json","data","villagers","addVillager","villagerId","islandId","method","headers","body","JSON","stringify","island_id","villager","payload","removeVillager","buttonType","island","id","handleRemove","count","handleAdd"],"mappings":";AAAA,OAAO,SAASA,cAAT,GAA0B;AAC/B,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACAC,IAAAA,KAAK,CAAC,iCAAD,CAAL,CACCC,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMG,IAAI,IAAIN,QAAQ,CAAC;AACrBC,MAAAA,IAAI,EAAE,mBADe;AAErBM,MAAAA,SAAS,EAAED;AAFU,KAAD,CAFtB;AAOD,GATD;AAUD;AAID,OAAO,MAAME,WAAW,GAAG,CAACC,UAAD,EAAaC,QAAb,KAA0B;AACnD,SAAQV,QAAD,IAAc;AACnBE,IAAAA,KAAK,CAAE,mCAAkCO,UAAW,EAA/C,EAAkD;AACrDE,MAAAA,MAAM,EAAE,OAD6C;AAErDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,kBAAU;AAFH,OAF4C;AAMrDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,SAAS,EAAEN;AADQ,OAAf;AAN+C,KAAlD,CAAL,CAUCP,IAVD,CAUMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAVd,EAWCF,IAXD,CAWMc,QAAQ,IAAIjB,QAAQ,CAAC;AACzBC,MAAAA,IAAI,EAAE,cADmB;AAEzBiB,MAAAA,OAAO,EAAED;AAFgB,KAAD,CAX1B;AAeD,GAhBD;AAiBD,CAlBM;AAoBP,OAAO,MAAME,cAAc,GAAIV,UAAD,IAAgB;AAC5C,SAAQT,QAAD,IAAc;AACnBE,IAAAA,KAAK,CAAE,mCAAkCO,UAAW,EAA/C,EAAkD;AACrDG,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,kBAAU;AAFH,OAD4C;AAKrDD,MAAAA,MAAM,EAAE,OAL6C;AAMrDE,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,SAAS,EAAE;AADQ,OAAf;AAN+C,KAAlD,CAAL,CAUCb,IAVD,CAUMc,QAAQ,IAAIjB,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,iBAAP;AAA0BiB,MAAAA,OAAO,EAAED;AAAnC,KAAD,CAV1B;AAWD,GAZD;AAaD,CAdM;AAgBP,OAAO,MAAMG,UAAU,GAAG,CAACH,QAAD,EAAWI,MAAX,KAAsB;AAC9C,MAAIJ,QAAQ,CAACD,SAAT,KAAuBK,MAAM,CAACC,EAAlC,EAAsC;AACpC,wBAAQ,oBAAC,MAAD;AACN,MAAA,IAAI,EAAC,IADC;AAEN,MAAA,OAAO,EAAC,OAFF;AAGN,MAAA,OAAO,EAAE,MAAMC,YAAY,CAACN,QAAQ,CAACK,EAAV,EAAcL,QAAQ,CAACD,SAAvB,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAR;AAID,GALD,MAKO,IAAIC,QAAQ,CAACD,SAAT,KAAuBK,MAAM,CAACC,EAA9B,IAAoCD,MAAM,CAACd,SAAP,CAAiBiB,KAAjB,GAAyB,EAAjE,EAAqE;AAC1E,wBAAO,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,IAAb;AACL,MAAA,OAAO,EAAC,OADH;AAEL,MAAA,OAAO,EAAE,MAAMC,SAAS,CAACR,QAAQ,CAACK,EAAV,EAAcD,MAAM,CAACC,EAArB,CAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AAGD;AACF,CAXM","sourcesContent":["export function fetchVillagers() {\n  return (dispatch) => {\n    dispatch({type: 'FETCH_VILLAGERS'})\n    fetch('http://localhost:3000/villagers')\n    .then(resp => resp.json())\n    .then(data => dispatch({\n      type: 'VILLAGERS_FETCHED',\n      villagers: data\n    })\n    )\n  }\n}\n\n\n\nexport const addVillager = (villagerId, islandId) => {\n  return (dispatch) => {\n    fetch(`http://localhost:3000/villagers/${villagerId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        island_id: islandId\n      })\n    })\n    .then(resp => resp.json())\n    .then(villager => dispatch({\n      type: 'ADD_VILLAGER', \n      payload: villager})\n    )\n  }\n}\n\nexport const removeVillager = (villagerId) => {\n  return (dispatch) => {\n    fetch(`http://localhost:3000/villagers/${villagerId}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        island_id: ''\n      })\n    })\n    .then(villager => dispatch({type: 'REMOVE_VILLAGER', payload: villager}))\n  }\n}\n\nexport const buttonType = (villager, island) => {\n  if (villager.island_id === island.id) {\n    return (<Button \n      size=\"sm\" \n      variant=\"light\"\n      onClick={() => handleRemove(villager.id, villager.island_id)} > x </Button>)\n  } else if (villager.island_id !== island.id && island.villagers.count > 10) {\n    return <Button size=\"sm\" \n      variant=\"light\"\n      onClick={() => handleAdd(villager.id, island.id)}> Add Villager </Button>\n  }\n}"]},"metadata":{},"sourceType":"module"}